$(document).ready((function(){let windowWidth=window.innerWidth||$(window).width();function initSlider(element){$(element).each((function(i){let sliderID=`slider-${i}`;$(this).attr("id",sliderID)}))}function objIndex(array,id){let ix=array.findIndex(obj=>obj.id==id);return array[ix]}function genDynamicPath(getVal,path,resIndex,objVal){let test=objVal,respSet=!1,respPath="default"!==resIndex?path.responsive[resIndex].settings:path,newPath=getVal?path[objVal]:path;return Object.entries(respPath).forEach(([key,value],index)=>{key==objVal&&(newPath=getVal?respPath[objVal]:respPath)}),newPath}function pagination(id,resIndex){let path=objIndex(settings,id),dots=genDynamicPath(!0,path,resIndex,"dots"),actualCount=genDynamicPath(!0,path,resIndex,"actualCount");if($(`#${id}`).find(".slider-pagi").empty(),dots)for(let i=0;i<actualCount;i++){let listItem=`<li data-page="${i}" class='slider-pagi__elem slider-pagi__elem-${i} `;listItem+=i?"'><div></div></li>":"active'><div></div></li>",$(`#${id}`).find(".slider-pagi").append(listItem)}}function sliderPosition(id,resIndex){let path=objIndex(settings,id),numberOfSlides=genDynamicPath(!0,path,resIndex,"numOfSlides"),slidesToShow=genDynamicPath(!0,path,resIndex,"slidesToShow"),actualCount=genDynamicPath(!0,path,resIndex,"actualCount");$(`#${id}`).find(".slide").each((function(i){postition=100*i/slidesToShow,width=100/slidesToShow,$(this).css("left",`${postition}%`),$(this).css("width",`${width}%`),$(this).addClass(`slide-${i}`)}))}function findBreakpoint(array){let responsive=array.responsive,resBreakpoint,resIndex,smallest,currentBreakPoint;return resArray=[],responsive.forEach((el,index)=>{let breakPoint=el.breakpoint;windowWidth>breakPoint&&resArray.push(breakPoint)}),void 0===resArray||0==resArray.length?"default":Math.max(...resArray)}function findIndex(array,currentBreakpoint){let resIndex="default",responsive;return array.responsive.forEach((el,index)=>{if(el.breakpoint==currentBreakpoint)return resIndex=index}),resIndex}function responsiveActive(sliderSettings){let currentBreakpoint=findBreakpoint(sliderSettings,windowWidth);console.log(`breakpoint: ${currentBreakpoint}`);let responsiveIndex=findIndex(sliderSettings,currentBreakpoint);return console.log(`responsiveIndex: ${responsiveIndex}`),responsiveIndex}function checkIfSet(objDefault,objSettings,objCustom){Object.entries(objDefault).forEach(([keyDefault,valueDefault],index)=>{let currentValue=valueDefault;Object.entries(objCustom).forEach(([key,value],index)=>{key==keyDefault&&(currentValue=value)}),objSettings[keyDefault]=currentValue})}function createSlider(id,sliderSettings,settings,numOfSlides){let slider=$(`#${id}`).find(".slider"),resIndex=responsiveActive(sliderSettings,windowWidth),path=objIndex(settings,id),actualCalc=Math.ceil(numOfSlides/genDynamicPath(!0,path,resIndex,"slidesToShow")),speed=genDynamicPath(!0,path,resIndex,"animSpeed");path.resIndex=resIndex,path.actualCount=actualCalc,$(slider).css("transition",`transform ${speed}ms linear`),pagination(id,resIndex),sliderPosition(id,resIndex)}$(window).resize((function(){windowWidth=window.innerWidth||$(window).width()})),initSlider(".slider-container");let settings=[];function changeSlideNew(container){let path=objIndex(settings,container),resIndex=path.resIndex,numberOfSlides=genDynamicPath(!0,path,resIndex,"numOfSlides"),slidesToShow=genDynamicPath(!0,path,resIndex,"slidesToShow"),currentSlide=genDynamicPath(!0,path,resIndex,"currentSlide"),transformPercentPath=genDynamicPath(!1,path,resIndex,"transformPercent"),sliderContainer=$(`#${container}`).find(".slider"),slidePagination=$(`#${container}`).find(".slide-pagination li");$(slidePagination).each((function(i){$(this).removeClass("active"),$(this).data("page")==currentSlide&&$(this).addClass("active")}));let transformPercent=-100*currentSlide;$(sliderContainer).css("transform",`translate3d(${transformPercent}%,0,0)`),transformPercentPath.transformPercent=transformPercent}function touchStart(container,startX){let path=objIndex(settings,container),resIndex=path.resIndex,startXPath;console.log(resIndex),genDynamicPath(!1,path,resIndex,"startX").startX=startX}function touchMove(container,currentX){let path=objIndex(settings,container),resIndex=path.resIndex,numOfSlides=genDynamicPath(!0,path,resIndex,"numOfSlides"),slidesToShow=genDynamicPath(!0,path,resIndex,"slidesToShow"),currentSlide=genDynamicPath(!0,path,resIndex,"currentSlide"),startX=genDynamicPath(!0,path,resIndex,"startX"),containerWidth=genDynamicPath(!0,path,resIndex,"containerWidth"),diffTest=genDynamicPath(!0,path,resIndex,"diff"),transformPercent=genDynamicPath(!0,path,resIndex,"transformPercent"),transformPercentPath=genDynamicPath(!1,path,resIndex,"transformPercent"),slider=$(`#${container}`).find(".slider"),diffPath=genDynamicPath(!1,path,resIndex,"diff"),slideNum,sliderWidth,difference=startX-currentX,percentChange=difference/(containerWidth*slidesToShow*(currentSlide+1))*100,cumuChange=-percentChange+transformPercent;(!currentSlide&&difference<0||currentSlide===numOfSlides&&difference>0)&&(difference/=2),$(slider).addClass("dragging"),$(slider).css("transform","translate3d("+cumuChange+"%,0,0)"),diffPath.diff=percentChange}function touchEnd(container){let path=objIndex(settings,container),resIndex=path.resIndex,numOfSlides=genDynamicPath(!0,path,resIndex,"numOfSlides"),slidesToShow=genDynamicPath(!0,path,resIndex,"slidesToShow"),currentSlide=genDynamicPath(!0,path,resIndex,"currentSlide"),currentSlidePath=genDynamicPath(!1,path,resIndex,"currentSlide"),actualCount=genDynamicPath(!0,path,resIndex,"actualCount")-1,slider=$(`#${container}`).find(".slider"),diff=genDynamicPath(!0,path,resIndex,"diff"),infinite=genDynamicPath(!0,path,resIndex,"infinite"),currentX=genDynamicPath(!0,path,resIndex,"currentX"),sensor=8;diff||console.log(diff),diff<=-8&&(currentSlide>0?path.currentSlide=currentSlide-1:!0===infinite&&(path.currentSlide=actualCount)),console.log(diff),console.log(8),diff>=8&&(currentSlide<actualCount?path.currentSlide=currentSlide+1:!0===infinite&&(path.currentSlide=0)),$(slider).removeClass("dragging"),changeSlideNew(container)}function btnChangeSlide(container,direction){let path=objIndex(settings,container),resIndex=path.resIndex,numberOfSlides=genDynamicPath(!0,path,resIndex,"numOfSlides"),slidesToShow=genDynamicPath(!0,path,resIndex,"slidesToShow"),dots=genDynamicPath(!0,path,resIndex,"dots"),actualCount=genDynamicPath(!0,path,resIndex,"actualCount")-1,currentSlide=genDynamicPath(!0,path,resIndex,"currentSlide"),currentSlidePath=genDynamicPath(!1,path,resIndex,"currentSlide"),numOfSlides=genDynamicPath(!0,path,resIndex,"numOfSlides"),infinite=genDynamicPath(!0,path,resIndex,"infinite");"left"==direction?currentSlide>0?currentSlidePath.currentSlide=actualCount-1:!0===infinite&&(currentSlidePath.currentSlide=actualCount):"right"==direction&&(currentSlide<actualCount?currentSlidePath.currentSlide=currentSlide+1:!0===infinite&&(currentSlidePath.currentSlide=0)),changeSlideNew(container)}function pagChangeSlide(container,clickedSlide){let path=objIndex(settings,container),resIndex,currentSlidePath;genDynamicPath(!1,path,path.resIndex,"currentSlide").currentSlide=clickedSlide,changeSlideNew(container)}function autoSlide(container){let id=container.id,currentSlide=container.currentSlide,numOfSlides=container.numOfSlides,autoSlideDelay=container.autoSlideDelay,autoSlideTimeout=setTimeout((function(){container.currentSlide=currentSlide+1,currentSlide>numOfSlides&&(currentSlide=0),changeSlideNew(container)}),autoSlideDelay)}!function($){$.fn.vJSlider=function(objCustom){let container=$(this),id=$(container).attr("id"),slider=$(container).find(".slider"),numOfSlides=$(slider).find(".slide").length,containerWidth=$(slider).width(),display=!0,diff=0,currentX=0,startX=0,currentSlide=0,transformPercent=0,sliderSettings={id:id,containerWidth:containerWidth,numOfSlides:numOfSlides,currentSlide:0,diff:0,startX:0,currentX:0,display:!0,transformPercent:0},defaultSettings;checkIfSet({infinite:!1,navIndicator:!0,slidesToShow:3,slidesToScroll:3,autoPlay:!0,animSpeed:500,slideTimer:800,dots:!0,responsive:[{breakpoint:1200,settings:{slidesToShow:3,infinite:!1}},{breakpoint:992,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:576,settings:{slidesToShow:2,dots:!0}}]},sliderSettings,objCustom),settings.push(sliderSettings),createSlider(id,sliderSettings,settings,numOfSlides),$(window).resize((function(){createSlider(id,sliderSettings,settings,numOfSlides)}))}}(jQuery),console.log(settings),$("#slider-0").vJSlider({infinite:!1,displayOn:"mobile",navIndicator:!0,slidesToShow:1,slidesToScroll:1,autoPlay:!1,animSpeed:800,slideTimer:1500,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,dots:!0}}]}),$("#slider-1").vJSlider({infinite:!0,displayOn:"mobile",navIndicator:!0,slidesToShow:3,slidesToScroll:3,autoPlay:!1,animSpeed:500}),$(document).on("click",".slider-container  .slider-control .btn-arrow",(function(e){let container,direction;e.preventDefault(),btnChangeSlide($(this).closest(".slider-container").attr("id"),$(this).closest(".slider-control").data("direction"))})),$(document).on("click",".slider-container   .slider-pagi__elem",(function(e){let container,clickedSlide;e.preventDefault(),e.stopPropagation(),pagChangeSlide($(this).closest(".slider-container").attr("id"),$(this).data("page"))})),$(document).on("mousedown touchstart",".slider-container   .wrapper ",(function(e){e.preventDefault(),e.stopPropagation();var offset=$(".slider").offset();let container=$(this).closest(".slider-container").attr("id"),startX=event.pageX-offset.left;touchStart(container,startX),$(document).on("mousemove touchmove",(function(e){var currentX=event.pageX-offset.left;touchMove(container,currentX)})),$(document).on("mouseleave",".slider-container   .wrapper ",(function(e){e.preventDefault();let container=$(this).closest(".slider-container").attr("id");$(document).off("mousemove touchmove"),touchEnd(container)}))})),$(document).on("mouseup touchend",".slider-container  .wrapper ",(function(e){e.preventDefault();let container=$(this).closest(".slider-container").attr("id");$(document).off("mousemove touchmove"),touchEnd(container)}))}));